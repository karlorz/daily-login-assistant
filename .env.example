# ==============================================================================
# Daily Login Assistant - Environment Configuration
# ==============================================================================
# This file provides a complete reference for all environment variables.
# Copy this file to .env and customize for your environment.
#
# Production vs Development:
# - Production (LXC/VPS): Use standard SSH port 22
# - Development (Docker): Use dedicated SSH tunnel on port 2222
# ==============================================================================

# ==============================================================================
# SSH Tunnel Configuration (for PWA Remote Server Method)
# ==============================================================================
# IMPORTANT: SSH port configuration differs between environments
# - Production LXC/VPS: Use REMOTE_SSH_PORT=22 (standard SSH)
# - Development Docker: Use REMOTE_SSH_PORT=2222 (dedicated tunnel service)
SSH_TUNNEL_PASSWORD=dev
REMOTE_SSH_HOST=localhost
REMOTE_SSH_PORT=22
REMOTE_SSH_USER=tunnel

# ==============================================================================
# Web API Configuration (PWA Server)
# ==============================================================================
# PWA_PORT: Primary port variable for the web API (recommended)
# WEB_API_PORT: Deprecated but still supported for backward compatibility
# Default: 3001 (internal), exposed as 8001 via docker-compose port mapping
PWA_PORT=3001
WEB_API_PORT=3001

# API Endpoint and CORS configuration
# Auto-detected in production based on REMOTE_SSH_HOST and PWA_PORT
# Override only if you need custom values
API_ENDPOINT=http://localhost:8001/api/tunnel-ready
ALLOWED_ORIGIN=http://localhost:8001

# Chrome DevTools Protocol (CDP) host for cookie extraction
# - Production LXC/VPS: localhost:9222 (SSH tunnel binds to localhost)
# - Development Docker: ssh-tunnel:9222 (Docker service name)
CDP_HOST=localhost:9222

# ==============================================================================
# Notification Configuration
# ==============================================================================
# Shoutrrr notification URLs (comma-separated for multiple services)
# Examples:
# - Discord: discord://token@channel
# - Slack: slack://token@channel
# - Email: smtp://user:pass@host:587/?from=bot@example.com&to=admin@example.com
# - Telegram: telegram://token@chat_id
# - Multiple: discord://token@channel,slack://token@channel
# - Development: logger://,generic://localhost:3001

NOTIFICATION_URLS=logger://

# ==============================================================================
# Application Settings
# ==============================================================================
NODE_ENV=production
LOG_LEVEL=info

# Worker identification (useful for multi-instance deployments)
WORKER_ID=worker-1

# Locale settings
LANG=C.UTF-8
LC_ALL=C.UTF-8
TZ=Asia/Hong_Kong

# ==============================================================================
# Website Credentials (Optional - for auto-fill method)
# ==============================================================================
# NOTE: User-guided login (primary method) doesn't require these
# These are only needed if using the legacy auto-fill credentials method

# Example website credentials
# SITE1_USERNAME=your_username
# SITE1_PASSWORD=your_password
# SITE2_USERNAME=your_username
# SITE2_PASSWORD=your_password

# ==============================================================================
# Playwright Configuration
# ==============================================================================
# Playwright browser installation path (set automatically in Docker)
# PLAYWRIGHT_BROWSERS_PATH=/ms-playwright

# ==============================================================================
# Development-Only Settings
# ==============================================================================
# Webhook port for testing notifications
WEBHOOK_PORT=3001

# ==============================================================================
# Quick Setup Examples
# ==============================================================================

# Production LXC Example:
# ----------------------
# SSH_TUNNEL_PASSWORD=your_secure_password
# REMOTE_SSH_HOST=dailycheckin.lan
# REMOTE_SSH_PORT=22
# REMOTE_SSH_USER=tunnel
# PWA_PORT=3001
# CDP_HOST=localhost:9222
# NOTIFICATION_URLS=discord://your_token@your_channel
# NODE_ENV=production

# Development Docker Example:
# --------------------------
# SSH_TUNNEL_PASSWORD=dev
# REMOTE_SSH_HOST=localhost
# REMOTE_SSH_PORT=2222
# REMOTE_SSH_USER=tunnel
# PWA_PORT=3001
# CDP_HOST=ssh-tunnel:9222
# NOTIFICATION_URLS=logger://,generic://localhost:3001
# NODE_ENV=development
